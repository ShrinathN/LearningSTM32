#define RCC_BASE 0x40021000

//RCC_CR
#define RCC_CR (RCC_BASE + 0x00)
#define RCC_CR_HSION 0x0
#define RCC_CR_HSIRDY 0x1
#define RCC_CR_HSITRIM 0x7
#define RCC_CR_HSICAL 0x0f
#define RCC_CR_HSEON 0x10
#define RCC_CR_HSERDY 0x11
#define RCC_CR_HSEBYP 0x12
#define RCC_CR_CSSON 0x13
#define RCC_CR_PLLON 0x18
#define RCC_CR_PLLRDY 0x19

//RCC_CFGR
#define RCC_CFGR (RCC_BASE + 0x04)
#define RCC_CFGR_SW 0x01
#define RCC_CFGR_SWS 0x03
#define RCC_CFGR_HPRE 0x07
#define RCC_CFGR_PPRE1 0x0a
#define RCC_CFGR_PPRE2 0x0d
#define RCC_CFGR_ADCPRE 0x0f
#define RCC_CFGR_PLLSRC 0x10
#define RCC_CFGR_PLLXTPRE 0x11
#define RCC_CFGR_PLLMUL 0x15
#define RCC_CFGR_USBPRE 0x16
#define RCC_CFGR_MCO 0x1a

#define RCC_CIR (RCC_BASE + 0x08)
#define RCC_APB2RSTR (RCC_BASE + 0x0c)
#define RCC_APB1RSTR (RCC_BASE + 0x10)
#define RCC_AHBENR (RCC_BASE + 0x14)

#define RCC_APB2ENR (RCC_BASE + 0x18)
#define RCC_APB2ENR_AFIOEN 0x00
#define RCC_APB2ENR_IOPAEN 0x02
#define RCC_APB2ENR_IOPBEN 0x03
#define RCC_APB2ENR_IOPCEN 0x04
#define RCC_APB2ENR_IOPDEN 0x05
#define RCC_APB2ENR_IOPEEN 0x06
#define RCC_APB2ENR_IOPFEN 0x07
#define RCC_APB2ENR_IOPGEN 0x08
#define RCC_APB2ENR_ADC1EN 0x09
#define RCC_APB2ENR_ADC2EN 0x0a
#define RCC_APB2ENR_TIM1EN 0x0b
#define RCC_APB2ENR_SPI1EN 0x0c
#define RCC_APB2ENR_TIM8EN 0x0d
#define RCC_APB2ENR_USART1EN 0x0e
#define RCC_APB2ENR_ADC3EN 0x0f
#define RCC_APB2ENR_TIM9EN 0x13
#define RCC_APB2ENR_TIM10EN 0x14
#define RCC_APB2ENR_TIM11EN 0x15

#define RCC_APB1ENR (RCC_BASE + 0x1c)
#define RCC_BDCR (RCC_BASE + 0x20)
#define RCC_CSR (RCC_BASE + 0x24)

#define GPIOA_BASE 0x40010800 
#define GPIOA_CRL (GPIOA_BASE + 0x00)
#define GPIOA_CRH (GPIOA_BASE + 0x04)
#define GPIOA_IDR (GPIOA_BASE + 0x08)
#define GPIOA_ODR (GPIOA_BASE + 0x0c)
#define GPIOA_BSRR (GPIOA_BASE + 0x10)
#define GPIOA_BRR (GPIOA_BASE + 0x14)
#define GPIOA_LCKR (GPIOA_BASE + 0x18)

#define GPIOB_BASE 0x40010C00 
#define GPIOB_CRL (GPIOB_BASE + 0x00)
#define GPIOB_CRH (GPIOB_BASE + 0x04)
#define GPIOB_IDR (GPIOB_BASE + 0x08)
#define GPIOB_ODR (GPIOB_BASE + 0x0c)
#define GPIOB_BSRR (GPIOB_BASE + 0x10)
#define GPIOB_BRR (GPIOB_BASE + 0x14)
#define GPIOB_LCKR (GPIOB_BASE + 0x18)

#define GPIOC_BASE 0x40011000
#define GPIOC_CRL (GPIOC_BASE + 0x00)
#define GPIOC_CRH (GPIOC_BASE + 0x04)
#define GPIOC_IDR (GPIOC_BASE + 0x08)
#define GPIOC_ODR (GPIOC_BASE + 0x0c)
#define GPIOC_BSRR (GPIOC_BASE + 0x10)
#define GPIOC_BRR (GPIOC_BASE + 0x14)
#define GPIOC_LCKR (GPIOC_BASE + 0x18)

#define GPIOD_BASE 0x40011400
#define GPIOD_CRL (GPIOD_BASE + 0x00)
#define GPIOD_CRH (GPIOD_BASE + 0x04)
#define GPIOD_IDR (GPIOD_BASE + 0x08)
#define GPIOD_ODR (GPIOD_BASE + 0x0c)
#define GPIOD_BSRR (GPIOD_BASE + 0x10)
#define GPIOD_BRR (GPIOD_BASE + 0x14)
#define GPIOD_LCKR (GPIOD_BASE + 0x18)

#define GPIOE_BASE 0x40011800
#define GPIOE_CRL (GPIOE_BASE + 0x00)
#define GPIOE_CRH (GPIOE_BASE + 0x04)
#define GPIOE_IDR (GPIOE_BASE + 0x08)
#define GPIOE_ODR (GPIOE_BASE + 0x0c)
#define GPIOE_BSRR (GPIOE_BASE + 0x10)
#define GPIOE_BRR (GPIOE_BASE + 0x14)
#define GPIOE_LCKR (GPIOE_BASE + 0x18)

#define GPIOF_BASE 0x40011C00
#define GPIOF_CRL (GPIOF_BASE + 0x00)
#define GPIOF_CRH (GPIOF_BASE + 0x04)
#define GPIOF_IDR (GPIOF_BASE + 0x08)
#define GPIOF_ODR (GPIOF_BASE + 0x0c)
#define GPIOF_BSRR (GPIOF_BASE + 0x10)
#define GPIOF_BRR (GPIOF_BASE + 0x14)
#define GPIOF_LCKR (GPIOF_BASE + 0x18)

#define GPIOG_BASE 0x40012000
#define GPIOG_CRL (GPIOG_BASE + 0x00)
#define GPIOG_CRH (GPIOG_BASE + 0x04)
#define GPIOG_IDR (GPIOG_BASE + 0x08)
#define GPIOG_ODR (GPIOG_BASE + 0x0c)
#define GPIOG_BSRR (GPIOG_BASE + 0x10)
#define GPIOG_BRR (GPIOG_BASE + 0x14)
#define GPIOG_LCKR (GPIOG_BASE + 0x18)

#define USART1_BASE 0x40013800

#define USART1_SR (USART1_BASE + 0x00)
#define USART1_SR_PE 0x0
#define USART1_SR_FE 0x1
#define USART1_SR_NE 0x2
#define USART1_SR_ORE 0x3
#define USART1_SR_IDLE 0x4
#define USART1_SR_RXNE 0x5
#define USART1_SR_TC 0x6
#define USART1_SR_TXE 0x7
#define USART1_SR_LBD 0x8
#define USART1_SR_CTS 0x9

#define USART1_DR (USART1_BASE + 0x04)

#define USART1_BRR (USART1_BASE + 0x08)
#define USART1_BRR_DIV_Fraction 0x0
#define USART1_BRR_DIV_Mantissa 0x4

#define USART1_CR1 (USART1_BASE + 0x0c)
#define USART1_CR1_SBK 0x0
#define USART1_CR1_RWU 0x1
#define USART1_CR1_RE 0x2
#define USART1_CR1_TE 0x3
#define USART1_CR1_IDLEIE 0x4
#define USART1_CR1_RXNEIE 0x5
#define USART1_CR1_TCIE 0x6
#define USART1_CR1_TXEIE 0x7
#define USART1_CR1_PEIE 0x8
#define USART1_CR1_PS 0x9
#define USART1_CR1_PCE 0xa
#define USART1_CR1_WAKE 0xb
#define USART1_CR1_M 0xc
#define USART1_CR1_UE 0xd

#define USART1_CR2 (USART1_BASE + 0x10)
#define USART1_CR2_ADD 0x0
#define USART1_CR2_LBDL 0x5
#define USART1_CR2_LBDIE 0x6
#define USART1_CR2_LBCL 0x8
#define USART1_CR2_CPHA 0x9
#define USART1_CR2_CPOL 0xa
#define USART1_CR2_CLKEN 0xb
#define USART1_CR2_STOP 0xc
#define USART1_CR2_LINEN 0xe

#define USART1_CR3 (USART1_BASE + 0x14)
#define USART1_CR3_EIE 0x0
#define USART1_CR3_IREN 0x1
#define USART1_CR3_IRLP 0x2
#define USART1_CR3_HDSEL 0x3
#define USART1_CR3_NACK 0x4
#define USART1_CR3_SCEN 0x5
#define USART1_CR3_DMAR 0x6
#define USART1_CR3_DMAT 0x7
#define USART1_CR3_RTSE 0x8
#define USART1_CR3_CTSE 0x9
#define USART1_CR3_CTSIE 0xa

#define USART1_GTPR (USART1_BASE + 0x18)
#define USART1_GTPR_PSC 0x0
#define USART1_GTPR_GT 0x8